update.packages()
update.packages()
install.packages("moments")
install.packages("moments", dependencies = TRUE)
library(moments)
library(moments) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) deck.cards <- 52 deck.hand <- 5 deck.faces <- 13 options(digits = 13) choose.long <- function(n, k) { 	as.integer( factorial( n )/ ( factorial( k ) * factorial( n - k ) ) ) } short <- choose(deck.cards, deck.hand) long <- choose.long(deck.cards, deck.hand) stopifnot(short == long) # 4 of same card (aces, for example) = # 52 cards, take 4 we need (aces), + *any* 1 additional resulting card to fill the hand. prob.card <- ( deck.cards - ( deck.hand - 1 ) ) / choose(deck.cards, deck.hand) round(prob.card * 100, 4) # 4 of a kind (same face) # 13 faces, 1 way to get it to be all the same. prob.kind <- ( deck.faces * deck.cards - ( deck.hand - 1 ) ) / choose(deck.cards, deck.hand) round(prob.kind * 100, 4) # single pair in a 5 card hand # prob pair = 13, 4 choose 2 ways of picking the pair, 13 choose 2 for picking the non-pair, 4^3 ways of choosing from non-pair faces prob.onepair <- deck.faces * choose(4, 2) * choose(12, 3) * 4 ^ 3 / choose(deck.cards, deck.hand) round(prob * 100, 2) # Annualized historic volatility from a time series (1 yr, monthly) S = c(1.3, 1.2, 1.3, 1.4, 1.5, 1.4, 1.3, 1.4, 1.5) volatility <- function( R ) { 	diffLogR <- diff( log( R ) )  	diffLogRmean <- mean(diffLogR) 	N = length(diffLogR) 	histVol = sqrt(1 / (N - 1) * sum((diffLogR - diffLogRmean) ^ 2)) 	annHistVol = histVol * sqrt(length(R)) 	annHistVol } volatility(S)
library(moments) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) deck.cards <- 52 deck.hand <- 5 deck.faces <- 13 options(digits = 13) choose.long <- function(n, k) { 	as.integer( factorial( n )/ ( factorial( k ) * factorial( n - k ) ) ) } short <- choose(deck.cards, deck.hand) long <- choose.long(deck.cards, deck.hand) stopifnot(short == long) # 4 of same card (aces, for example) = # 52 cards, take 4 we need (aces), + *any* 1 additional resulting card to fill the hand. prob.card <- ( deck.cards - ( deck.hand - 1 ) ) / choose(deck.cards, deck.hand) round(prob.card * 100, 4) # 4 of a kind (same face) # 13 faces, 1 way to get it to be all the same. prob.kind <- ( deck.faces * deck.cards - ( deck.hand - 1 ) ) / choose(deck.cards, deck.hand) round(prob.kind * 100, 4) # single pair in a 5 card hand # prob pair = 13, 4 choose 2 ways of picking the pair, 13 choose 2 for picking the non-pair, 4^3 ways of choosing from non-pair faces prob.onepair <- deck.faces * choose(4, 2) * choose(12, 3) * 4 ^ 3 / choose(deck.cards, deck.hand) round(prob.onepair * 100, 2) # Annualized historic volatility from a time series (1 yr, monthly) S = c(1.3, 1.2, 1.3, 1.4, 1.5, 1.4, 1.3, 1.4, 1.5) volatility <- function( R ) { 	diffLogR <- diff( log( R ) )  	diffLogRmean <- mean(diffLogR) 	N = length(diffLogR) 	histVol = sqrt(1 / (N - 1) * sum((diffLogR - diffLogRmean) ^ 2)) 	annHistVol = histVol * sqrt(length(R)) 	annHistVol } volatility(S)
library(moments)
skewness(S)
kurtosis(X)
kurtosis(S)
kurtosis(S)
require(RevoScaleR) require(data.table) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = ""))
install.packages("data.table")
require(RevoScaleR) require(data.table) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = ""))
install.packages("data.table")
require(RevoScaleR) require(data.table) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = ""))
install.packages("foreign")
require(foreign)
require(foreign)
install.packages("foreign")
library(foreign)
require(data.table)
library(foreign)
.libPaths(c(.libPaths(), "~/userLibrary"))
.libPaths()
.libPaths()
dest <- .libPaths()
install.packages("data.table", lib = .libPaths(), dependencies = TRUE)
library(zoo)
install.packages("foreign", lib = .libPaths(), dependencies = TRUE)
library(foreign)
install.packages("foreign", lib = .libPaths(), dependencies = TRUE)
library(foreign)
install.packages("foreign", destdir = = .libPaths(), dependencies = TRUE)
install.packages("foreign", destdir = .libPaths(), dependencies = TRUE)
install.packages("foreign", destdir = .libPaths(), dependencies = TRUE)install.packages("foreign", destdir = .libPaths(), dependencies = TRUE)
install.packages("foreign", destdir = .libPaths(), dependencies = TRUE)
install.packages("data.table", destdir = .libPaths(), dependencies = TRUE)
install.packages("data.table", lib = .libPaths(), dependencies = TRUE)
library(foreign)
library(foreign)
installed.packages()
version()
version
.libPaths()
install.packages("data.table", , dependencies = TRUE)
install.packages("data.table", dependencies = TRUE)
install.packages("foreign", dependencies = TRUE)
library(foreign)
homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = ""))
version()
version
read.dta
funda <- read.dta("funda.dta")
msft <- read.dta("msf.dat")
msft <- read.dta("msf.dta")
data.file <- read.dta("funda.dta")
rm(funda)
rm(msft)
loadDtaFile(sqlConnection, "funda.dta", "funda")
require(RevoScaleR) require(data.table) library(foreign) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; User Id=bmoretz; Password=letmein;"; # Common loadDtaFile <- function(sqlConnection, fileName, sqlTable) { 	data.file <- read.dta("funda.dta") 	data.table <- RxSqlServerData( 	  connectionString = sqlConnection, 	  table = sqlTable) 	rxDataStep(inData = data.file, outFile = data.table, overwrite = T) } loadDtaFile(sqlConnection, "funda.dta", "funda") loadDtaFile(sqlConnection, "msf.dta", "msf")
require(RevoScaleR) require(data.table) library(foreign) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; uid=bmoretz; Password=letmein;"; # Common loadDtaFile <- function(sqlConnection, fileName, sqlTable) { 	data.file <- read.dta("funda.dta") 	data.table <- RxSqlServerData( 	  connectionString = sqlConnection, 	  table = sqlTable) 	rxDataStep(inData = data.file, outFile = data.table, overwrite = T) } loadDtaFile(sqlConnection, "funda.dta", "funda") loadDtaFile(sqlConnection, "msf.dta", "msf")
sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; uid=bmoretz; Password=letmein;";
require(RevoScaleR) require(data.table) library(foreign) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; Uid=bmoretz; Pwd=letmein;"; # Common loadDtaFile <- function(sqlConnection, fileName, sqlTable) { 	data.file <- read.dta("funda.dta") 	data.table <- RxSqlServerData( 	  connectionString = sqlConnection, 	  table = sqlTable) 	rxDataStep(inData = data.file, outFile = data.table, overwrite = T) } loadDtaFile(sqlConnection, "funda.dta", "funda") loadDtaFile(sqlConnection, "msf.dta", "msf")
require(RevoScaleR) require(data.table) library(foreign) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; Uid=bmoretz; Pwd=letmein;"; # Common loadDtaFile <- function(sqlConnection, fileName, sqlTable) { 	data.file <- read.dta("funda.dta") 	data.table <- RxSqlServerData( 	  connectionString = sqlConnection, 	  table = sqlTable) 	rxDataStep(inData = data.file, outFile = data.table, overwrite = T) } loadDtaFile(sqlConnection, "funda.dta", "funda") loadDtaFile(sqlConnection, "msf.dta", "msf")
msf <- read.dta("msf.dta")
require(RevoScaleR) require(data.table) library(foreign) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; Uid=bmoretz; Pwd=letmein;"; # Common loadDtaFile <- function(sqlConnection, fileName, sqlTable) { 	data.file <- read.dta(fileName) 	data.table <- RxSqlServerData( 	  connectionString = sqlConnection, 	  table = sqlTable) 	rxDataStep(inData = data.file, outFile = data.table, overwrite = T) } loadDtaFile(sqlConnection, "funda.dta", "funda") loadDtaFile(sqlConnection, "msf.dta", "msf")
require(RevoScaleR) require(data.table) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; Uid=bmoretz; Pwd=letmein;"; sqlReturnData <- RxSqlServerData( 	connectionString = sqlConnection, 	sqlQuery = sprintf(' 		SELECT 			[tsymbol], 			[ret] 		FROM 			dbo.[msf] 		WHERE 			[date] BETWEEN \'%s\' AND \'%s\'  			AND 			[tsymbol] in (\'%s\', \'%s\' ) 	;', '2005-01-01', '2013-12-31', 'AAPL', 'SPY'), 	stringsAsFactors = FALSE, 	useFastRead = TRUE ) raw.data <- as.data.table(rxImport(sqlReturnData, overwrite = TRUE, stringsAsFactors = FALSE))
y <- raw.data[ raw.data$tsymbol == 'AAPL', ]$ret
x <- raw.data[raw.data$tsymbol == 'SPY',]$ret
cov(x, y) / var(x)
beta <- cov(x, y) / var(x)
summary(lm(y ~ x + 1))
cov(x, y) / var(x)
summary(lm(y ~ x + 1))
shapiro.test(x)
shapiro.test(y)
plot(x,y)
require(RevoScaleR) require(data.table) homeuser = file.path("C:", "Projects", "Books") chap <- "ChapIII" setwd(paste(homeuser, "/FinAnalytics/", chap, sep = "")) # SQL sqlConnection <- "Driver=SQL Server; Server=DATACENTER; Database=Playground; Uid=bmoretz; Pwd=letmein;"; sqlReturnData <- RxSqlServerData( 	connectionString = sqlConnection, 	sqlQuery = sprintf(' 		SELECT 			[tsymbol], 			[ret] 		FROM 			dbo.[msf] 		WHERE 			[date] BETWEEN \'%s\' AND \'%s\'  			AND 			[tsymbol] in (\'%s\', \'%s\' ) 	;', '2005-01-01', '2013-12-31', 'AAPL', 'SPY'), 	stringsAsFactors = FALSE, 	useFastRead = TRUE ) raw.data <- as.data.table(rxImport(sqlReturnData, overwrite = TRUE, stringsAsFactors = FALSE)) y <- raw.data[raw.data$tsymbol == 'AAPL',]$ret x <- raw.data[raw.data$tsymbol == 'SPY',]$ret beta_ratio <- cov(x, y) / var(x) beta_lm <- summary(lm(y ~ x + 1)) shapiro.test(x) shapiro.test(y) plot(x,y)
dt <- read.csv("dt.csv")
getwd()
getwd()
data.file.path <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table")
dt <- read.csv(data.file.path)
dt <- read.csv(data.file.path)
dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table")
setwd(dt.wd)
dt <- read.csv("dt.csv")
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd) DT <- as.data.table( read.csv("dt.csv") )
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd) DT <- as.data.table( read.csv("dt.csv") )
DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd)
# load DT DT <- as.data.table( read.csv("dt.csv") )
# Sum of all columns and the number of rows
DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
colnames(DT)
DT <- as.data.table( read.csv("dt.csv") )
setNames(DT, c("x", "y", "z") DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
DT <- as.data.table( read.csv("dt.csv") )
setNames(DT, c("x", "y", "z"))
# Sum of all columns and the number of rows
DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
DT
t <- read.csv("dt.csv")
t <- read.csv("dt.csv", make.names = FALSE)
t <- read.csv("dt.csv", make.names = TRUE)
t <- read.csv("dt.csv", header = TRUE)
t <- read.csv("dt.csv", header = TRUE, col.names = c("x","y","z") DT <- as.data.table( read.csv("dt.csv", header = TRUE) ) DT <- as.data.table( read.csv("dt.csv", header = TRUE) )
DT <- as.data.table( read.csv("dt.csv", header = TRUE) )
DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z")))
setNames(DT, c("x", "y", "z"))
DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
DT[DT[, z > 8,]][, lapply(.SD, cumsum), by1 = x, .SDcols = c("x", "y", "z")]
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd)
# load DT DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z"))) setNames(DT, c("x", "y", "z"))
DT # spot check
# Sum of all columns and the number of rows
DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd)
# load DT DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z")))
# Sum of all columns and the number of rows
DT[, c(lapply(.SD, sum), .N), by = x, .SDcols = c("x", "y", "z")]
DT[DT[, z > 8,]][, c.( lapply(.SD, cumsum), .N) , by1 = x, .SDcols = c("x", "y", "z")]
DT[DT[, z > 8,]][, c.( lapply(.SD, cumsum), .N) , by = x, .SDcols = c("x", "y", "z")]
DT[DT[, z > 8,]][, c( lapply(.SD, cumsum), .N) , by = x, .SDcols = c("x", "y", "z")]
DT[DT[, z > 8,]][, lapply(.SD, cumsum), by = x, .SDcols = c("x", "y", "z")]
DT[, c(z > 8, lapply(.SD, cumsum)), by = x, .SDcols = c("x", "y", "z")]
DT[, c(by1 = z > 8, lapply(.SD, cumsum)), by = x, .SDcols = c("x", "y", "z")]
DT[, z > 8,][, c(lapply(.SD, cumsum)), by = x, .SDcols = c("x", "y", "z")]
DT[, z > 8,][, lapply(.SD, cumsum), by = x, .SDcols = c("x", "y", "z")]
DT[, z > 8,]
DT[ DT[, z > 8,] ]
DT[, .( g := z > 8),]
DT[, .(g := z > 8),]
DT[, z > 8,][, lapply(.SD, cumsum), by = by1 = x, .SDcols = c("x", "y", "z")]
DT[, lapply(.SD, cumsum), by = by1 = x, .SDcols = c("x", "y", "z")]
DT[, lapply(.SD, cumsum), by = c(by1 = x), .SDcols = c("x", "y", "z")]
DT[, lapply(.SD, cumsum), by = c(by1 = x), .SDcols = c("x", "y")]
DT[, lapply(.SD, cumsum), by = x, .SDcols = c("x", "y")]
DT[, lapply(.SD, cumsum), by = x, .SDcols = c("x", "y")]
DT
DT[, lapply(.SD, cumsum), by = z, .SDcols = c("x", "y")]
DT[, c.( lapply(.SD, cumsum) ), by = z, .SDcols = c("x", "y")]
DT[, c( lapply(.SD, cumsum) ), by = z, .SDcols = c("x", "y")]
DT[, c( lapply(.SD, cumsum) ), by = z, .SDcols = c("x", "y")]
DT[, c( lapply(.SD, cumsum) ), by = x, .SDcols = c("x", "y")]
DT[, lapply(.SD, cumsum), by = x, .SDcols = c("x", "y")]
DT[, lapply(.SD, cumsum), by1 = x, .SDcols = c("x", "y")]
DT[, z > 8]
DT[, z > 8,]
DT[, z > 8]
DT[ DT[, z > 8] ]
DT[DT[, z > 8]][, lapply(.SD, cumsum), by = x, .SDcols = c("x", "y")]
DT[, , by = c(x, z > 8 )]
DT[, , by = list(x, z > 8 )]
DT[, by1 = z > 8,]
DT[, by1 := z > 8,]
DT[, by1 := z > 8,]
DT
DT[, c( by1 = x, by1 := z > 8 ),]
DT[, c( by1 := x, by1 := z > 8 ),]
DT[, c( by1 = x, by1 = z > 8 ),]
DT[, by1 := z > 8, by = x]
DT
DT[, by1 := z > 8,][, lapply(.SD, cumsum), by = c(x, by1), .SDcols = c("x", "y")]
DT[, by1 := z > 8,][, lapply(.SD, cumsum), by = c(x, by1), .SDcols = c("x", "y")]
DT[, by1 := z > 8,][, lapply(.SD, cumsum), by = c("x", "by1"), .SDcols = c("x", "y")]
DT[, by2 := z > 8,][, c( by1 = x, lapply(.SD, cumsum), by = c("x", "by1") ), .SDcols = c("x", "y")]
DT[, by2 := z > 8,][, c( by1 = x, lapply(.SD, cumsum), by = c("by1", "by2") ), .SDcols = c("x", "y")]
DT[, by2 := z > 8,][, c( by1 = x, lapply(.SD, cumsum), by = c("by1", "by2") ), .SDcols = c("x", "y")]
DT[, by2 := z > 8,][, c( by1 = x, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")]
DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z")))
DT[, by2 := z > 8,][, c( by1 = x, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")]
DT
DT[, by2 := z > 8,][, lapply(.SD, cumsum), by = c("x", "by2"), .SDcols = c("x", "y")]
DT[, by2 := z > 8,][, .( by1 = x, lapply(.SD, cumsum) ), by = c("x", "by2"), .SDcols = c("x", "y")]
DT[, by2 := z > 8,][, lapply(.SD, cumsum), by = c("x", "by2"), .SDcols = c("x", "y")][, .( by1 = x, by2)]
DT[, by2 := z > 8,][, lapply(.SD, cumsum), by = c("x", "by2"), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT[, lapply(.SD, cumsum), by = c("x", "by2"), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT[, lapply(.SD, cumsum), by = c("x", "by2"), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z")))
DT[, lapply(.SD, cumsum), by = c("x", "by2"), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT[, c( by2 = x > 8, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT[, c( by2 = z > 8, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z")))
DT[, c( by2 = z > 8, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT
DT[, c( by2 = z > 8, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")]
DT <- as.data.table(read.csv("dt.csv", header = TRUE, col.names = c("x", "y", "z")))
DT[, c( by2 = z > 8, lapply(.SD, cumsum), by = c("x", "by2") ), .SDcols = c("x", "y")]
DT[, c( by2 = z > 8, lapply(.SD, cumsum), by = c("x", "z") ), .SDcols = c("x", "y")][, .( by1 = x, by2, x,y)]
DT[, lapply(.SD, cumsum), by = .(x, z > 8)]
DT[, lapply(.SD, cumsum), by = .(x, z > 8), .SDcols = c("x","y")]
DT[, lapply(.SD, cumsum), by = .(x, z > 8), .SDcols = c("x", "y")][, .(by1 = x, by2, x, y)]
DT[, lapply(.SD, cumsum), by = .(x, z > 8), .SDcols = c("x", "y")][, .(by1 = x, by2 = z, x, y)]
DT[, lapply(.SD, cumsum), by = .(x, by2 = z > 8), .SDcols = c("x", "y")]
DT[, lapply(.SD, cumsum), by = .(by1 = x, by2 = z > 8), .SDcols = c("x", "y")]
require(data.table)
DT <- data.table(A = letters[c(1, 1, 1, 2, 2)], B = 1:5)
DT[, Total := sum(B) ,]
DT[, Total := sum(B) ,]
DT
DT[, B := B + 1,]
DT[2:4, Total2 := sum(B), by = A]
DT
DT[, Total := NULL, ]
DT[, Total := NULL, ]
DT[[3]]
require(data.table) DT <- data.table(A = letters[c(1, 1, 1, 2, 2)], B = 1:5) # Add column by reference: Total
DT[, Total := sum(B), by = A]
# Add 1 to column B
DT[, B := B + 1,]
# Add a new column Total2
DT[2:4, Total2 := sum(B), by = A]
# Remove the Total column
DT[, Total := NULL, ]
# Select the third column using `[[`
DT[[3]]
DT
DT
DT[2:3, B := NULL ]
DT[2:3, B := NULL,]
DT <- data.table(A = c(1, 1, 1, 2, 2), B = 1:5)
DT[, ':='(B = B + 1L, C = A + B, D = 2)]
DT[, my_cols := NULL,]
DT[, .(my_cols := NULL),]
DT[, my_cols := NULL,]
DT[my_cols := NULL]
DT[,my_cols := NULL,]
DT[, B := NULL,]
DT[, ':='(B = B + 1L, C = A + B, D = 2)]
DT <- data.table(A = c(1, 1, 1, 2, 2), B = 1:5)
DT[, ':='(B = B + 1L, C = A + B, D = 2)]
DT[, ':='(my_cols) = NULL,]
DT[, ':='my_cols = NULL,]
DT[, .(my_cols = NULL),]
DT[, .(my_cols = NULL),]
DT[, .(my_cols := NULL),]
DT[ 3 := NULL ]
DT[ DT[,my_cols,] ]
DT[,my_cols,]
my_cols <- c("B", "C")
DT[, .(my_cols := NULL),]
DT[, my_cols := NULL,]
DT[ DT[,my_cols,] ]
DT[[3]] = NULL
DT <- data.table(A = c(1, 1, 1, 2, 2), B = 1:5)
DT[, ':='(B = B + 1L, C = A + B, D = 2)]
# Delete my_cols
my_cols <- c("B", "C")
DT[, my_cols := NULL,]
DT[, .(my_cols := NULL),]
DT[, paste(my_cols) := NULL,]
DT[[2]] = NULL
rep(1,4)
rep(1:3,4)
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd) # load DT DT <- as.data.table(read.csv("dt.csv", header = TRUE))
DT
DT <- as.data.table(read.csv("dt.csv", header = TRUE, check.names = FALSE))
DT
require(data.table) dt.wd <- file.path("C:", "Projects", "R", "Playground", "Scripts", "DataCamp", "data.table") setwd(dt.wd) # load DT DT <- as.data.table(read.csv("dt.csv", header = TRUE, check.names = TRUE)) DT
read.csv("dt.csv", header = TRUE, check.names = TRUE)
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE))
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE))
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE))
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE))
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE, stringsAsFactors = FALSE))
read.csv("dt_2.csv", header = TRUE, check.names = TRUE, stringsAsFactors = FALSE)
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE, stringsAsFactors = FALSE))
DT[X := NULL]
DT[,X := NULL,]
 DT
# Set the seed
set.seed(1)
rnorm(3)
sample(1:3)
sample(1:3)
sample(1:10)
sample(1:length(DT))
for (i in 2:4)
	set(DT, i, sample(1:length(DT[[i]])), NA) 		DT
length(DT[[2]]))
DT[[2]]
length(DT[[2]])
for (i in 2:4)
	set(DT, i, sample(1:length(DT[[2]])), NA)
for (i in 2:4)
	set(DT, i, sample(1:10), NA)
for (i in 2:4)
	set(DT, sample(1:length(DT[[2]])), i, NA) 		DT
DT <- as.data.table(read.csv("dt_2.csv", header = TRUE, check.names = TRUE, stringsAsFactors = FALSE)) DT[, X := NULL,] # For loop with set # Loop through columns 2, 3, and 4, and for each one, select 3 rows at random and set the value of that column to NA. for (i in 2:4)
	set(DT, sample(1:3, length(DT[[2]])), i, NA) 		DT
sample(1:3, 10)
sample(10)
sample(10,3)
for (i in 2:4)
	set(DT, sample(10, 3), i, NA) DT
setnames(DT, tolower)
setnames(DT, tolower(colnames(DT)))
DT
DT <- data.table(a = letters[c(1, 1, 1, 2, 2)], b = 1)
paste0(colnames(DT),"_2")
setnames(DT, paste0(colnames(DT),"_2"))
colnames(DT)[1] <- "A2"
colnames(DT) <- rev(colnames(DT))
colnames(DT)[1,] <- "A2"
DT <- data.table(a = letters[c(1, 1, 1, 2, 2)], b = 1)
setnames(DT, paste0(colnames(DT),"_2"))
colnames(DT)[1] <- "A2"
colnames(DT) <- rev(colnames(DT))
# Define DT
DT <- data.table(a = letters[c(1, 1, 1, 2, 2)], b = 1)
# Add a suffix "_2" to all column names
setnames(DT, paste0(colnames(DT),"_2"))
# Change column name "a_2" to "A2"
colnames(DT)[1] <- "A2"
setorder(DT, rev(colnames(DT)))
setorder(DT, rev(colnames(DT)))
DT <- data.table(a = letters[c(1, 1, 1, 2, 2)], b = 1)
# Add a suffix "_2" to all column names
setnames(DT, paste0(colnames(DT),"_2"))
# Change column name "a_2" to "A2"
colnames(DT)[1] <- "A2"
# Reverse the order of the columns
setorder(DT, rev(colnames(DT)))
rev(colnames(DT))
setcolorder(DT, rev(colnames(DT)))
# Define DT DT <- data.table(a = letters[c(1, 1, 1, 2, 2)], b = 1) # Add a suffix "_2" to all column names setnames(DT, paste0(colnames(DT), "_2")) # Change column name "a_2" to "A2" colnames(DT)[1] <- "A2" # Reverse the order of the columns setcolorder(DT, rev(colnames(DT)))
library(data.table)
# The 'keyed' data.table DT
DT <- data.table(A = letters[c(2, 1, 2, 3, 1, 2, 3)],
				 B = c(5, 4, 1, 9, 8, 8, 6),
				 C = 6:12)
setkey(DT, A, B)
# Select the "b" group
DT["b",]
# "b" and "c" groups
DT[c("b","c")]
# The first row of the "b" and "c" groups
# First and last row of the "b" and "c" groups
# Copy and extend code for instruction 4: add printout
DT[1,c("b","c")]
DT[,c("b","c")]
DT[c("b","c")]
DT[c("b","c"),1]
DT[c("b","c")][1]
DT[c("b", "c")][1:N]
DT[c("b","c")]
DT[c("b","c")]
DT[c("b","c")]
DT[c("b","c")]
DT[c("b","c"), by = EACHI]
DT[c("b","c"), mult = "first"]
DT[c("b", "c"), mult = c("first", "last")]
DT[c("b", "c"), mult %in% c("first", "last")]
DT[c("b", "c"), mult %in% c("first", "last")]
DT[c("b", "c"), mult = c("first", "last")]
DT[c("b", "c"), mult = "last"]
DT[c("b", "c")][, mult = "last"]
DT[c("b", "c")][, mult = "first"][, mult = "last"]
DT[c("b", "c"), by = .EACHI]
DT[c("b", "c"), .N, by = .EACHI]
DT[c("b", "c"), 1:.N, by = .EACHI]
# The first row of the "b" and "c" groups
DT[c("b","c"), mult = "first"]
# First and last row of the "b" and "c" groups
DT[c("b", "c"), 1, by = .EACHI]
# The first row of the "b" and "c" groups
DT[c("b","c"), mult = "first"]
# First and last row of the "b" and "c" groups
DT[ DT[c("b", "c"), 1, by = .EACHI] ]
DT[ DT[c("b", "c"), 1:N, by = .EACHI] ]
DT[ DT[c("b", "c"), 1:.N, by = .EACHI] ]
DT[ DT[c("b", "c"), .N, by = .EACHI] ]
DT[ DT[c("b", "c"), 1:3, by = .EACHI] ]
DT[c("b","c"), mult = "first"]
DT[ DT[c("b", "c"), 1, by = .EACHI] ]
print("")
DT[c("b","c"), mult = "first"]
print("")
DT[ DT[c("b", "c"), 1, by = .EACHI] ]
DT[ DT[c("b", "c"), .N = 1, by = .EACHI] ]
DT[ DT[c("b", "c"), .N == 1, by = .EACHI] ]
DT[c("b", "c"), .N == 1, by = .EACHI]
DT[ DT[c("b", "c"), .N == 1, by = .EACHI] ]
DT[ DT[c("b", "c"), .N, by = .EACHI] ]
DT
DT[c("b","c")]
DT[ DT[c("b", "c"), .N, by = .EACHI] ]
DT[c("b","c"), mult = "first"]
DT[ DT[c("b", "c"), .N, by = .EACHI] ]
DT[c("b", "c"), .N, by = .EACHI]
DT[, lapply(.SD, sum), by = .EACHI, .SDCols = c("b", "c")]
DT[, lapply(.SD, sum), by = .EACHI, .SDcols = c("b", "c")]
DT[, lapply(.SD, sum), by = .EACHI, .SDcols = b:c]
DT
DT[, lapply(.SD, sum), by = .EACHI, .SDcols = B:C]
DT[, .SD = 1:.N, by = .EACHI, .SDcols = B:C]
DT[, .SD, by = .EACHI, .SDcols = B:C]
DT[ .SD, by = .EACHI, .SDcols = B:C]
DT[, .SD, by = .EACHI, .SDcols = B:C]
X = data.table(x = c(1, 1, 1, 2, 2, 5, 6), y = 1:7, key = "x") Y = data.table(x = c(2, 6), z = letters[2:1], key = "x")
X[Y]
X
Y
X[Y]
X[Y, .N] # count of matches
X[Y, .N, by = .EACHI] # count of matches, explicit
X[Y, .N, by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = sum(.N), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = lapply(.N, sum), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = lapply(.N, sum), Group = .N, .I), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = lapply(.I, sum), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = lapply(.I, count), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = distinct(.I), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = unique(.I), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = sum(.I), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = nrow(.I), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = sum(.I >= 0 ), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Total = sum(.I > 0 ), Group = .N), by = .EACHI] # count of group (EACHI) matches, explicit
X[Y, list( Group = .N), by = .EACHI][, list( Total = sum(group), Group )]  # count of group (EACHI) matches, explicit
X[Y, list( Group = .N), by = .EACHI][, list( Total = sum(group), .Group )]  # count of group (EACHI) matches, explicit
X[Y, list( Group = .N), by = .EACHI][, list( Total = sum(group), Group )]  # count of group (EACHI) matches, explicit
X[Y, list( Group = .N), by = .EACHI]
X[Y, list( Group = .N), by = .EACHI][, list( Total = sum(Group), Group )]  # count of group (EACHI) matches, explicit
X[Y, list( Group = .N), by = .EACHI][, list( x, Total = sum(Group), Group )]  # count of group (EACHI) matches, explicit
X[Y, list(GroupTotal = .N), by = .EACHI][, list(x, GroupTotal, GrandTotal = sum(Group))] # count of group (EACHI) matches, explicit
X[Y, list(GroupTotal = .N), by = .EACHI][, list(x, GroupTotal, GrandTotal = sum(GroupTotal))] # count of group (EACHI) matches, explicit
X[Y, list(Group = .N), by = .EACHI][, list( X = x, Group, total = sum(Group))] # count of group (EACHI) matches, explicit
DT[c("b","c"), .SD, by = .EACHI]
DT[c("b","c"), list( N = .N, SD = .SD ), by = .EACHI]
DT[c("b","c"), list( N := .N, SD := .SD ), by = .EACHI]
DT[c("b","c"), .N, by = .EACHI]
DT[c("b","c"), .SD, by = .EACHI]
DT[c("b","c"), by = .EACHI, .SDcols = B:C]
DT[,, by = .EACHI, .SDcols = B:C]
DT[,.N, by = .EACHI, .SDcols = B:C]
DT[,.SD, by = .EACHI, .SDcols = B:C]
DT[c("b","c"), lapply(.SD, sum), by = .EACHI, .SDcols = B:C]
DT[c("b", "c"), .SD, by = .EACHI, .SDcols = B:C]
DT[c("b", "c"), list( B, C, N = .SD ), by = .EACHI, .SDcols = B:C]
DT[, list( B, C, N = .SD ), by = .EACHI, .SDcols = B:C]
DT[, list( B, C, N := .SD ), by = .EACHI, .SDcols = B:C]
DT[.SD, , by = .EACHI]
DT[, .SD, by = .EACHI]
set.seed(10238) DT <- data.table(A = rep(1:3, each = 5), B = rep(1:5, 3), 				 C = sample(15), D = sample(15)) DT
DT[, lapply(.SD, sum)]
DT[, lapply(.SD, sum), by = A]
DT[, lapply(.SD, sum), .SDcols = !"A"]
DT[, lapply(.SD, sum), by = B, .SDcols = !"A"]
DT[, lapply(.SD, sum), by = .EACHI, .SDcols = B:C]
DT[, lapply(.SD, sum), 'by' = .EACHI, .SDcols = B:C]
DT[, lapply(.SD, sum), by= EACHI, .SDcols = B:C]
library(data.table)
# The 'keyed' data.table DT
DT <- data.table(A = letters[c(2, 1, 2, 3, 1, 2, 3)],
				 B = c(5, 4, 1, 9, 8, 8, 6),
				 C = 6:12)
setkey(DT, A, B)
# First and last row of the "b" and "c" groups (Use by = .EACHI and .SD to select the first and last row of the "b" and "c" groups.)
DT[, lapply(.SD, sum), by= .EACHI, .SDcols = B:C]
# The first row of the "b" and "c" groups (Select the first row of the "b" and "c" groups using mult.)
DT[c("b","c"), mult = "first"]
# First and last row of the "b" and "c" groups (Use by = .EACHI and .SD to select the first and last row of the "b" and "c" groups.)
DT[, lapply(.SD, sum), by= .EACHI, .SDcols = B:C]
DT[, lapply(.SD, sum), by = B, .SDcols = !"A"]
DT[, lapply(.SD, sum), by= A, .SDcols = B:C]
DT[c("b","c"), mult = "first"]
DT[, lapply(.SD, sum), by= A, .SDcols = A]
DT[, lapply(.SD, sum), by= A, .SDcols = B:C]
DT[, lapply(.SD, first), by= A, .SDcols = B:C]
DT[, lapply(.SD, sum), by= A, .SDcols = B:C]
DT[, .SD, by= A, .SDcols = B:C]
DT[, A := .SD, by= A, .SDcols = B:C]
DT[, A := min(.SD), by= A, .SDcols = B:C]
DT[, A := lapply(.SD,print), by= A, .SDcols = B:C]
DT[, lapply(.SD,print), by= A, .SDcols = B:C]
DT[, lapply(.SD,FUN = function(x){print(x)}), by= A, .SDcols = B:C]
DT[, lapply(.SD,FUN = function(x){print(x)}), by= A, .SDcols = B:C]
DT[, lapply(.SD,sum), by= A, .SDcols = B:C]
DT[, .SD[, sum], by= A, .SDcols = B:C]
DT[, .SD[, sum(B)], by= A, .SDcols = B:C]
DT[, .SD[, which(.N == 1)], by= A, .SDcols = B:C]
DT[, .SD[, which(.N = 1)], by= A, .SDcols = B:C]
DT[, .SD[which(.N == 1)], by= A, .SDcols = B:C]
DT[, .SD[.N == 1], by= A, .SDcols = B:C]
DT[, .SD[1:.N], by= A, .SDcols = B:C]
DT[, .SD[which(.I == 1)], by= A, .SDcols = B:C]
DT[, .SD[,which(.I == 1)], by= A, .SDcols = B:C]
DT[, .SD[which(.I == 1)], by= A, .SDcols = B:C]
DT[, .SD[.I == 1], by= A, .SDcols = B:C]
DT[, .SD[.N == 1], by= A, .SDcols = B:C]
DT[, .SD[.I == 1], by= A, .SDcols = B:C]
DT[, .SD[.I == 1 | .I = .N], by= A, .SDcols = B:C]
DT[, .SD[.I == 1 || .I = .N], by= A, .SDcols = B:C]
DT[, .SD[.I == 1 || .I == .N], by= A, .SDcols = B:C]
# The first row of the "b" and "c" groups (Select the first row of the "b" and "c" groups using mult.)
DT[c("b","c"), mult = "first"]
DT[, .SD[.I == 1 | .I == .N], by= A, .SDcols = B:C]
DT[c("b","c"), .SD[.I == 1 | .I == .N], by= A, .SDcols = B:C]
DT[, .SD[.I == 1 | .I == .N], by= A, .SDcols = B:C]
DT[, .SD[.I == 1 || .I == .N], by= A, .SDcols = B:C]
DT[, .SD[.I == 1 || .I == .N], by= .EACHI, .SDcols = B:C]
DT[, .SD[.I == 1 || .I == .N], by= .EACHI, .SDcols = B:C, mult = "all"]
DT[, .SD[.I == 1 || .I == .N], by= A, .SDcols = B:C]
DT[, .SD[,by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[, .N == 1,,by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[, .N == 1,by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[, .N == 1, by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[, , by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[, .N == 1, by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[ .N == 1, by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[, 1:2, by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[1:2,, by = .EACHI], by= A, .SDcols = B:C]
DT[, .SD[.I:.N], by= A, .SDcols = B:C]
DT[, .SD[.I:.N], by= A, .SDcols = B:C]
DT[, .SD[.N], by= A, .SDcols = B:C]
DT[, .SD[1 OR .N], by= A, .SDcols = B:C]
DT[, .SD[1 || .N], by= A, .SDcols = B:C]
DT[, .SD[1 | .N], by= A, .SDcols = B:C]
DT[, .SD[.N == 1 | .N == .N], by= A, .SDcols = B:C]
DT[, .SD[.N], by= A, .SDcols = B:C]
DT[, .SD[.N], by= A, .SDcols = B:C]
DT[, .SD[,.N, by = .EACHI], by= A, .SDcols = B:C]
DT[, , by= A, .SDcols = B:C]
DT[, , by= A, .SDcols = B:C][, .N, by = .EACHI]
DT[, .N == nrow(.SD), by= A, .SDcols = B:C]
DT[, .SD[.N == nrow(.SD)], by= A, .SDcols = B:C]
DT[, .SD[.I == nrow(.SD)], by= A, .SDcols = B:C]
DT[, .SD[.N == nrow(.SD)], by= A, .SDcols = B:C]
DT[, .SD[.N == 1], by= A, .SDcols = B:C]
DT[, .SD[,.N == 1], by= A, .SDcols = B:C]
DT[, .SD[.N == 1], by= A, .SDcols = B:C]
DT[, .SD[.N], by= A, .SDcols = B:C]
DT[, C := .SD[.N], by= A, .SDcols = B:C]
DT[, C := .SD[.N], by= A, .SDcols = B:C]
DT[, Ct := .SD[.N], by= A, .SDcols = B:C]
DT[, Ct := .SD[.N], by= A, .SDcols = B:C]
DT[, Ct := .SD[.N], by= A, .SDcols = B:C]
DT[, (Ct := .SD[.N]), by= A, .SDcols = B:C]
DT[, (Ct = .SD[.N]), by= A, .SDcols = B:C]
DT[, .SD[.N], by= A, .SDcols = B:C]
DT[, .SD[xor(1, .N)], by = A, .SDcols = B:C]
DT[, .SD[xor(.N == 1, .N)], by = A, .SDcols = B:C]
DT[, .SD[xor(.N == 1, .N == .N)], by = A, .SDcols = B:C]
DT[, .SD[or(.N == 1, .N == .N)], by = A, .SDcols = B:C]
DT[, .SD[.N == 1 | .N], by = A, .SDcols = B:C]
DT[, .SD[1 | .N], by = A, .SDcols = B:C]
DT[, .SD[1 || .N], by = A, .SDcols = B:C]
DT[, .SD[1 | .N], by = A, .SDcols = B:C]
DT[, .SD[.N], by = A, .SDcols = B:C]
DT[, .SD[.N] | .SD[1], by = A, .SDcols = B:C]
DT[, .SD[.N] || .SD[1], by = A, .SDcols = B:C]
DT[, .SD[length(.SD)], by = A, .SDcols = B:C]
DT[, .SD[length(.SD), by = .EACHI], by = A, .SDcols = B:C]
DT[, .SD[,length(.SD), by = .EACHI], by = A, .SDcols = B:C]
DT[, .SD[, .SD == length(.SD), by = .EACHI], by = A, .SDcols = B:C]
DT[, .SD[.N], by = A, .SDcols = B:C]
DT[, { .SD[.N]; print(.N) }, by = A, .SDcols = B:C]
DT[, { print(.N) ; .SD[.N] }, by = A, .SDcols = B:C]
DT[, { print(.N) ; .SD[.N] }, by = A, .SDcols = B:C]
DT[, { print(.SD) ; .SD[.N] }, by = A, .SDcols = B:C]
DT[, { print(.SD) ; .SD[1|.N] }, by = A, .SDcols = B:C]
DT[, { print(.SD) ; .SD[c(1, .N)] }, by = A, .SDcols = B:C]
DT[, .SD[c(1, .N)], by = A, .SDcols = B:C]
# Copy and extend code for instruction 4: add printout
DT[, { print(.SD); .SD[c(1, .N)] }, by = A, .SDcols = B:C]
# First and last row of the "b" and "c" groups (Use by = .EACHI and .SD to select the first and last row of the "b" and "c" groups.)
DT[c("b","c"), .SD[c(1, .N)], by = A, .SDcols = B:C]
# Copy and extend code for instruction 4: add printout
DT[c("b", "c"), { print(.SD); .SD[c(1, .N)] }, by = A, .SDcols = B:C]
# The 'keyed' data.table DT
DT <- data.table(A = letters[c(2, 1, 2, 3, 1, 2, 3)],
				 B = c(5, 4, 1, 9, 8, 8, 6),
				 C = 6:12)
setkey(DT, A, B)
DT
DT[,.(B,4)]
DT[,.(B,4),]
DT[,.("b",4),]
DT[,.("b",4)]
DT[.("b",4)]
DT[.("b",4)]
DT[.("b",4), roll = TRUE]
DT[.("b", 4), roll = TRUE]
DT[.("b",4), roll = nearest]
DT[.("b",4), roll = "nearest"]
DT[.("b",4), roll = "nearest"]
DT[.("b",4), roll = -Inf]
DT[.("b", 4), roll = Inf]
DT[.("b", 4), roll = -Inf]
DT[.("b", 4), roll = Inf]
DT[.("b",4), roll = -2]
DT[.("b",4), roll = -1]
DT[.("b",4), roll = -2]
DT[.("b",4), roll = -1]
DT[.("b",3), roll = -1]
DT[.("b",3), roll = -2]
DT[.("b",3), roll = -1]
DT[.("b",3), roll = -1]
DT[.("b", 4), roll = -1]
DT[.("b", 4), roll = 1]
DT[.("b", 3), roll = 1]
DT[.("b", 3), roll = 2]
DT[.("b", 7:8), roll = 2, limit = TRUE]
DT[.("b", 7:8), roll = 2, rollends = TRUE]
DT[.("b", 3), roll = 2]
DT[.("b", 3), roll = 1]
DT[.("b", 3), roll = -1]
DT[.("b", 2), roll = -1]
DT[.("b", 1), roll = -1]
DT[.("b", 2), roll = -1]
DT[.("b", 2), roll = 2]
DT[.("b", 2), roll = 1]
DT[.("b", 2), roll = 1]
DT[.("b",3), roll = -1]
DT[.("b", 7:8), roll = 2, rollends = TRUE]
# Keyed data.table DT
DT <- data.table(A = letters[c(2, 1, 2, 3, 1, 2, 3)],
				 B = c(5, 4, 1, 9, 8, 8, 6),
				 C = 6:12,
				 key = "A,B")
# Get the key of DT
# Row where A == "b" and B == 6
# Return the prevailing row
# Return the nearest row
key(DT)
library(data.table)
# Keyed data.table DT
DT <- data.table(A = letters[c(2, 1, 2, 3, 1, 2, 3)],
				 B = c(5, 4, 1, 9, 8, 8, 6),
				 C = 6:12,
				 key = "A,B")
# Get the key of DT
key(DT)
DT[.("b",6)]
DT[.("b", 6), roll = TRUE]
DT[.("b", 6), roll = "nearest"]
DT[-2:10,by=B]
DT[-2:10]
DT[,-2:10]
DT[,-2:10, by = B]
DT[.("b", -2:10)]
DT[.("b", -2:10), roll = TRUE]
DT[.("b", -2:10)]
DT[.("b", -2:10), roll = TRUE]
DT[.("b", -2:10), roll = TRUE, rolllimit = -1]
DT[.("b", -2:10), roll = TRUE, rollends = TRUE]

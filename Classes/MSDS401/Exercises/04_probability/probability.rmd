---
title: "Lesson 04: Probability"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    toc: true
    toc_float: true
    theme: spacelab
    df_print: paged
---

```{r knitr-setup, include = FALSE}
library(knitr)

knitr::opts_chunk$set(eval = TRUE)

opts_chunk$set(fig.align = "center", fig.height = 4, fig.width = 8) # for html
opts_knit$set(progress = FALSE, verbose = TRUE)

```


```{r additional-libraries, echo=FALSE}

library(data.table, quietly = TRUE, warn.conflicts = FALSE)

assignInNamespace("cedta.pkgEvalsUserCode", c(data.table:::cedta.pkgEvalsUserCode, "rtvs"), "data.table")

library(dplyr, quietly = TRUE, warn.conflicts = FALSE)
library(ggplot2, quietly = TRUE, warn.conflicts = FALSE)
library(ggthemes, quietly = TRUE, warn.conflicts = FALSE)
library(gridExtra, quietly = TRUE, warn.conflicts = FALSE)

theme_set(theme_fivethirtyeight())

# Theme Overrides
theme_update(plot.title = element_text(hjust = 0.5),
             axis.text.x = element_text(face = "bold", size = 12),
             axis.text.y = element_text(face = "bold", size = 12),
             legend.position = "top", legend.title = element_blank())

base.dir <- "E:/GitHub/R-Playground/"
#base.dir <- "C:/Projects/R/Playground"

data.path <- paste0(base.dir, "/Classes/MSDS401/Exercises/04_probability/data/")

loadDataFile <- function(file_name) {
	data.raw <- fread(paste0(data.path, file_name),
		header = TRUE, stringsAsFactors = FALSE, na.strings = c("NA", ""))

	data <- setNames(data.raw, tools::toTitleCase(tolower(names(data.raw))))

	return(data)
}

```


```{r ex_3_util, echo = FALSE}

```

## 1.) Shoppers

+ __Dataset__: _shoppers.csv_

```{r ex_1_data, echo = FALSE}

shoppers <- loadDataFile("shoppers.csv")

glimpse(shoppers)

```

Assume the fifty shoppers exit the store individually in random order.

### a.)

> If one shopper is picked at random, what is the probability of picking a shopper who spent
$40 or more dollars? What is the probability of picking a shopper who spent less than $10?

```{r ex_1_a, echo = T}

n <- length(shoppers$Spending)

gte_40 <- sum(shoppers$Spending >= 40) / n

lt_10 <- sum(shoppers$Spending < 10) / n

```

### b.)

> If two shoppers are picked at random, what is the probability the pair will include a shopper
who spent $40 or more dollars and one who spent less than $10?

```{r ex_1_b, echo = T}

gte_40 * lt_10 / (n * ( gte_40 - 1 ) )

```